<!DOCTYPE html>
<html>
<head>
    <title>M3U8 Generator</title>
    <style>
        body {
            font-family: Arial, sans-serif;
        }
    </style>
    <script>
        function generateM3U8() {
            var linksInput = document.getElementById("linksInput");
            var m3u8Output = document.getElementById("m3u8Output");

            var links = linksInput.value.trim().split("\n");
            var uniqueLinks = [...new Set(links)];
            
            var output = "#EXTM3U\n";
            for (var i = 0; i < uniqueLinks.length; i++) {
                var link = uniqueLinks[i];
                if (!link.startsWith("#EXTINF")) {
                    output += "#EXTINF:-1," + link + "\n";
                    output += link + "\n";
                } else {
                    output += link + "\n";
                }
            }

            m3u8Output.value = output;
        }

        function copyToClipboard() {
            var m3u8Output = document.getElementById("m3u8Output");
            m3u8Output.select();
            document.execCommand("copy");
            alert("Copied to clipboard!");
        }
    </script>
</head>
<body>
    <h1>M3U8 Generator</h1>
    <textarea id="linksInput" rows="10" cols="50" placeholder="Paste links here"></textarea>
    <br>
    <button onclick="generateM3U8()">Generate M3U8</button>
    <br>
    <br>
    <textarea id="m3u8Output" rows="10" cols="50" readonly></textarea>
    <br>
    <button onclick="copyToClipboard()">Copy All</button>
</body>
</html>
